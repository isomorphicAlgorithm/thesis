{#{{ form_start(loginForm, { attr: { '@submit.prevent': 'submit' } }) }}#}
{{ form_start(loginForm) }}

    {% if form_errors(loginForm) %}
        <div class="mb-4 rounded-lg border border-red-500 bg-red-100 text-red-800 px-4 py-3 text-sm font-medium flex items-center gap-2">
            <svg class="w-5 h-5 text-red-600" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v2m0 4h.01M4.93 4.93l14.14 14.14M12 12c4.418 0 8-3.582 8-8S16.418 4 12 4 4 7.582 4 12s3.582 8 8 8z" />
            </svg>
            <span>{{ form_errors(loginForm) }}</span>
        </div>
    {% endif %}

    <!-- Email field -->
    <div class="mt-6">
        <label class="block text-sm font-medium text-white mb-1">Email</label>
        <div class="relative">
            <span class="absolute left-3 top-2.5 text-gray-300">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M16.5 12a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0Zm0 0c0 1.657 1.007 3 2.25 3S21 13.657 21 12a9 9 0 1 0-2.636 6.364M16.5 12V8.25" />
                </svg>
            </span>
            {% if loginForm.email.vars.errors|length > 0 %}
                <span class="absolute right-3 top-2.5 text-red-500">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-5">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v2m0 4h.01M12 17.5a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11Z" />
                    </svg>
                </span>
            {% endif %}
            {{ form_widget(loginForm.email, {
                attr: {
                    class: 'pl-10 w-full p-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:outline-none focus:ring-2 focus:ring-yellow-400',
                    placeholder: 'Enter your email'
                }
            }) }}

            <ul class="form-errors">{{ form_errors(loginForm.email) }}</ul>
        </div>
    </div>

    <!-- Password field -->
    <div class="mt-4" x-cloak x-data="{ show: false }">
        <label class="block text-sm font-medium text-white mb-1">Password</label>

        <div class="relative">
            <!-- Lock Icon -->
            <span class="absolute left-3 top-2.5 text-gray-300">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none"
                    viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
                    class="size-6">
                    <path stroke-linecap="round" stroke-linejoin="round"
                        d="M16.5 10.5V6.75a4.5 4.5 0 00-9 0v3.75M5.25 10.5h13.5v9.75H5.25z"/>
                </svg>
            </span>

            <!-- Icons on the right -->
            <div class="absolute right-3 top-2.5 flex items-center space-x-2">
                {% if loginForm.password.vars.errors|length > 0 %}
                    <!-- Error icon -->
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none"
                        viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"
                        class="h-5 w-5 text-red-500">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="M12 9v2m0 4h.01M4.93 4.93l14.14 14.14M19.07 4.93L4.93 19.07"/>
                    </svg>
                {% endif %}

                <!-- Toggle visibility button -->
                <button type="button"
                        @click="show = !show"
                        class="text-gray-400 hover:text-white"
                        :aria-label="show ? 'Hide password' : 'Show password'">
                    <svg x-cloak x-show="!show" xmlns="http://www.w3.org/2000/svg"
                        fill="none" viewBox="0 0 24 24" stroke="currentColor"
                        class="h-5 w-5" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="M2.458 12C3.732 7.943 7.523 5 12 5s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7s-8.268-2.943-9.542-7z"/>
                    </svg>
                    <svg x-cloak x-show="show" xmlns="http://www.w3.org/2000/svg"
                        fill="none" viewBox="0 0 24 24" stroke="currentColor"
                        class="h-5 w-5" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.542-7A9.973 9.973 0 014.75 9.408M6.32 6.32A9.99 9.99 0 0112 5c4.478 0 8.268 2.943 9.542 7a9.973 9.973 0 01-1.25 2.592M15 12a3 3 0 00-3-3m0 0a3 3 0 00-3 3m3-3L3 3"/>
                    </svg>
                </button>
            </div>

            <!-- Input -->
            {{ form_widget(loginForm.password, {
                attr: {
                    ':type': 'show ? "text" : "password"',
                    class: 'pl-10 pr-12 w-full p-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:outline-none focus:ring-2 focus:ring-yellow-400',
                    placeholder: 'Enter your password'
                }
            }) }}
        </div>

        <ul class="form-errors">{{ form_errors(loginForm.password) }}</ul>
    </div>

    {{ form_row(loginForm._token) }}

    <div class="flex items-center mb-4">
        {{ form_widget(loginForm.remember_me, {
            attr: {
                class: 'h-4 w-4 text-yellow-500 bg-gray-800 border-gray-600 rounded focus:ring-yellow-500'
            }
        }) }}
        <label for="{{ loginForm.remember_me.vars.id }}" class="ml-2 text-sm text-gray-300 select-none">
            Remember me
        </label>
    </div>

    <div class="mt-6">
        <button type="submit" class="w-full bg-yellow-500 hover:bg-yellow-600 text-white py-2 rounded-md shadow-md transition transform hover:scale-105">
            Sign In
        </button>
    </div>

    <p class="mt-4 text-center text-sm text-gray-300">
        Don't have an account? <a href="{{ path('app_register') }}" class="text-yellow-400 hover:underline">Register here</a>
    </p>

{{ form_end(loginForm) }}