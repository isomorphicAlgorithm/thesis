<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}Bandito{% endblock %}</title>

    {{ encore_entry_link_tags('app') }}

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body class="text-gray-800">

    <div x-cloak x-data="themeSwitcher()">

        {% include 'partials/header.html.twig' %}

        <!-- Theme toggle applies only here -->
        <main
            x-bind:class="isDark ? 'dark' : ''"
            x-cloak
            class="transition-colors duration-500 ease-in-out grow min-h-screen bg-white dark:bg-gray-900 text-gray-800 dark:text-white"
        >
            {% for label, messages in app.flashes %}
                {% for message in messages %}
                    <div class="p-4 mb-4 rounded text-sm font-medium
                        {% if label == 'success' %}
                            bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-100
                        {% elseif label == 'error' %}
                            bg-red-100 text-red-800 dark:bg-red-800 dark:text-red-100
                        {% endif %}
                    ">
                        {{ message }}
                    </div>
                {% endfor %}
            {% endfor %}

            {% block body %}{% endblock %}
        </main>

        <!-- Static footer -->
        <footer class="bg-gray-800 text-white text-center p-4">
            <p>Â© 2025 Bandito. All rights reserved.</p>
        </footer>
    </div>

    {{ encore_entry_script_tags('app') }}
</body>
</html