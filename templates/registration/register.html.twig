{% extends 'base.html.twig' %}

{% block body %}
<div class="min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-900 transition-colors duration-500">
    <div class="w-full max-w-md p-6 bg-gray-800 text-white rounded-xl shadow-xl border border-yellow-500 transition-transform duration-300 hover:scale-105">

        <div class="flex justify-center mt-1">
			<a href="{{ path('homepage') }}">
            	<img src="https://i.imgur.com/QG1OKhO.png" alt="Bandito Logo" class="h-11 w-auto max-w-[150px] object-contain drop-shadow-xl"/>
			</a>
        </div>

        <h2 class="mt-1 text-2xl font-semibold text-center text-white">Register for Bandito</h2>

		{% if form_errors(registrationForm) %}
			<div class="mt-4 rounded-lg border border-red-500 bg-red-100 text-red-800 px-4 py-3 text-sm font-medium flex items-center gap-2">
				<svg class="w-5 h-5 text-red-600" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
					<path stroke-linecap="round" stroke-linejoin="round" d="M12 9v2m0 4h.01M4.93 4.93l14.14 14.14M12 12c4.418 0 8-3.582 8-8S16.418 4 12 4 4 7.582 4 12s3.582 8 8 8z" />
				</svg>
				<span>{{ form_errors(registrationForm) }}</span>
			</div>
		{% endif %}

        {{ form_start(registrationForm) }}

			<div class="mt-4">
              <label class="block text-sm font-medium text-gray-200 mb-1">Username</label>
				<div class="relative">
					<span class="absolute left-3 top-2.5 text-gray-300">
						<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
							<path stroke-linecap="round" stroke-linejoin="round" d="M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
						</svg>
					</span>
					{% if registrationForm.username.vars.errors|length > 0 %}
						<span class="absolute right-3 top-2.5 text-red-500">
							<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-5">
								<path stroke-linecap="round" stroke-linejoin="round" d="M12 9v2m0 4h.01M12 17.5a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11Z" />
							</svg>
						</span>
					{% endif %}
					{{ form_widget(registrationForm.username, {
							attr: {
			                    class: 'pl-10 w-full p-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:outline-none focus:ring-2 focus:ring-yellow-400',
								placeholder: 'Enter a username'
							}
					}) }}
					<ul class="form-errors">{{ form_errors(registrationForm.username) }}</ul>
				</div>
			</div>

			<div class="mt-4">
              <label class="block text-sm font-medium text-gray-200 mb-1">Email</label>
				<div class="relative">
					<span class="absolute left-3 top-2.5 text-gray-300">
						<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
							<path stroke-linecap="round" stroke-linejoin="round" d="M16.5 12a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0Zm0 0c0 1.657 1.007 3 2.25 3S21 13.657 21 12a9 9 0 1 0-2.636 6.364M16.5 12V8.25" />
						</svg>
					</span>
					{% if registrationForm.email.vars.errors|length > 0 %}
						<span class="absolute right-3 top-2.5 text-red-500">
							<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-5">
								<path stroke-linecap="round" stroke-linejoin="round" d="M12 9v2m0 4h.01M12 17.5a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11Z" />
							</svg>
						</span>
					{% endif %}
					{{ form_widget(registrationForm.email, {
							attr: {
			                    class: 'pl-10 w-full p-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:outline-none focus:ring-2 focus:ring-yellow-400',
								placeholder: 'Enter a valid email'
							}
					}) }}
					<ul class="form-errors">{{ form_errors(registrationForm.email) }}</ul>
				</div>
			</div>

			<div class="mt-4" x-cloak x-data="{ show: false }">
				<label class="block text-sm font-medium text-white mb-1">Password</label>

				<div class="relative">
					<span class="absolute left-3 top-2.5 text-gray-300">
						<svg xmlns="http://www.w3.org/2000/svg" fill="none"
							viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
							class="size-6">
							<path stroke-linecap="round" stroke-linejoin="round"
								d="M16.5 10.5V6.75a4.5 4.5 0 00-9 0v3.75M5.25 10.5h13.5v9.75H5.25z"/>
						</svg>
					</span>

					<div class="absolute right-3 top-2.5 flex items-center space-x-2">
						{% if registrationForm.plainPassword.first.vars.errors|length > 0 %}
							<svg xmlns="http://www.w3.org/2000/svg" fill="none"
								viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"
								class="h-5 w-5 text-red-500">
								<path stroke-linecap="round" stroke-linejoin="round"
									d="M12 9v2m0 4h.01M4.93 4.93l14.14 14.14M19.07 4.93L4.93 19.07"/>
							</svg>
						{% endif %}

						<button type="button"
								@click="show = !show"
								class="text-gray-400 hover:text-white"
								:aria-label="show ? 'Hide password' : 'Show password'">
							<svg x-cloak x-show="!show" xmlns="http://www.w3.org/2000/svg"
								fill="none" viewBox="0 0 24 24" stroke="currentColor"
								class="h-5 w-5" stroke-width="2">
								<path stroke-linecap="round" stroke-linejoin="round"
									d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
								<path stroke-linecap="round" stroke-linejoin="round"
									d="M2.458 12C3.732 7.943 7.523 5 12 5s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7s-8.268-2.943-9.542-7z"/>
							</svg>
							<svg x-cloak x-show="show" xmlns="http://www.w3.org/2000/svg"
								fill="none" viewBox="0 0 24 24" stroke="currentColor"
								class="h-5 w-5" stroke-width="2">
								<path stroke-linecap="round" stroke-linejoin="round"
									d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.542-7A9.973 9.973 0 014.75 9.408M6.32 6.32A9.99 9.99 0 0112 5c4.478 0 8.268 2.943 9.542 7a9.973 9.973 0 01-1.25 2.592M15 12a3 3 0 00-3-3m0 0a3 3 0 00-3 3m3-3L3 3"/>
							</svg>
						</button>
					</div>

					{{ form_widget(registrationForm.plainPassword.first, {
						attr: {
							':type': 'show ? "text" : "password"',
							class: 'pl-10 pr-12 w-full p-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:outline-none focus:ring-2 focus:ring-yellow-400',
							placeholder: 'Enter a password'
						}
					}) }}
				</div>

				<ul class="form-errors">{{ form_errors(registrationForm.plainPassword.first) }}</ul>
			</div>


			<div class="mt-4" x-cloak x-data="{ show: false }">
				<label class="block text-sm font-medium text-white mb-1">Repeat Password</label>

				<div class="relative">
					<span class="absolute left-3 top-2.5 text-gray-300">
						<svg xmlns="http://www.w3.org/2000/svg" fill="none"
							viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
							class="size-6">
							<path stroke-linecap="round" stroke-linejoin="round"
								d="M16.5 10.5V6.75a4.5 4.5 0 00-9 0v3.75M5.25 10.5h13.5v9.75H5.25z"/>
						</svg>
					</span>

					<div class="absolute right-3 top-2.5 flex items-center space-x-2">
						{% if registrationForm.plainPassword.second.vars.errors|length > 0 %}
							<svg xmlns="http://www.w3.org/2000/svg" fill="none"
								viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"
								class="h-5 w-5 text-red-500">
								<path stroke-linecap="round" stroke-linejoin="round"
									d="M12 9v2m0 4h.01M4.93 4.93l14.14 14.14M19.07 4.93L4.93 19.07"/>
							</svg>
						{% endif %}

						<button type="button"
								@click="show = !show"
								class="text-gray-400 hover:text-white"
								:aria-label="show ? 'Hide password' : 'Show password'">
							<svg x-cloak x-show="!show" xmlns="http://www.w3.org/2000/svg"
								fill="none" viewBox="0 0 24 24" stroke="currentColor"
								class="h-5 w-5" stroke-width="2">
								<path stroke-linecap="round" stroke-linejoin="round"
									d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
								<path stroke-linecap="round" stroke-linejoin="round"
									d="M2.458 12C3.732 7.943 7.523 5 12 5s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7s-8.268-2.943-9.542-7z"/>
							</svg>
							<svg x-cloak x-show="show" xmlns="http://www.w3.org/2000/svg"
								fill="none" viewBox="0 0 24 24" stroke="currentColor"
								class="h-5 w-5" stroke-width="2">
								<path stroke-linecap="round" stroke-linejoin="round"
									d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.542-7A9.973 9.973 0 014.75 9.408M6.32 6.32A9.99 9.99 0 0112 5c4.478 0 8.268 2.943 9.542 7a9.973 9.973 0 01-1.25 2.592M15 12a3 3 0 00-3-3m0 0a3 3 0 00-3 3m3-3L3 3"/>
							</svg>
						</button>
					</div>

					{{ form_widget(registrationForm.plainPassword.second, {
						attr: {
							':type': 'show ? "text" : "password"',
							class: 'pl-10 pr-12 w-full p-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:outline-none focus:ring-2 focus:ring-yellow-400',
							placeholder: 'Repeat the password'
						}
					}) }}
				</div>

				<ul class="form-errors">{{ form_errors(registrationForm.plainPassword.second) }}</ul>
			</div>

			<div class="mt-6">
				<button type="submit" class="w-full bg-yellow-500 hover:bg-yellow-600 text-black font-semibold py-2 rounded-md shadow-md transition transform hover:scale-105">
					Register
				</button>
			</div>

			<div class="mt-4 flex items-center gap-2">
				{{ form_widget(registrationForm.agreeTerms) }}
				<label class="text-sm text-gray-600">I agree to the terms and conditions</label>
			</div>

        {{ form_end(registrationForm) }}

        <p class="mt-4 text-center text-sm text-gray-300">
        	Already have an account? <a href="{{ path('app_login') }}" class="text-yellow-400 hover:underline">Log in here</a>
        </p>

    </div>
</div>
{% endblock %}
